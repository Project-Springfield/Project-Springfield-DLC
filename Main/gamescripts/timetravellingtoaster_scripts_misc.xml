<ScriptPackage>
	<Dilophosaurus_Tapped parallel="true">
		<Action type="anim-play" animation="Tap_2" />
	</Dilophosaurus_Tapped>
	<PharaohGod_Tapped parallel="true">
		<Action type="anim-play" animation="Tap_2" />
	</PharaohGod_Tapped>
	<PlagueRats_Tapped parallel="true">
		<Action type="anim-play" animation="Tap_2" />
	</PlagueRats_Tapped>
	<EnterCategory_DonutDay>
		<Action type="focusOnMenuItem" menuCategory="DonutDay2017" />
	</EnterCategory_DonutDay>
	<PrizeListButtonPressed runQueueState="RunInAnyState">
		<Action type="checkExpression" expression="TTT_EventHubTabValue">
			<ExpressionCase value="0">
				<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:Tab_PrizeTrack" />
			</ExpressionCase>
			<ExpressionCase value="1">
				<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:Tab_ExcavationMuseum" />
			</ExpressionCase>
			<ExpressionCase value="2">
				<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:Tab_TachyonEmitter" />
			</ExpressionCase>
			<ExpressionCase value="3">
				<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting" />
			</ExpressionCase>
		</Action>
	</PrizeListButtonPressed>
	<Tab_PrizeTrack>
		<Action type="updateVariable" variable="TTT_EventHubTabValue" value="0" />
		<Action type="if">
			<If expression="TTT_EventGuideSeen">
				<Then>
					<Action type="gotoState" state="GameState_HubPrizeTrack" forceState="true">
						<Extras>
							<Attribute name="helpButtonScript" value="TimeTravellingToaster_Scripts_Misc:GuidePanel_Event" />
							<Attribute name="specialEvent" value="TTT" />
							<Attribute name="exitButtonScript" value="MiscScripts:GoToInGame" />
						</Extras>
					</Action>
					<Action type="markBadgeViewed" badgeName="Toaster_PrizeBadge" />
				</Then>
			</If>
			<Else>
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:GuidePanel_Event" />
				</Then>
			</Else>
		</Action>
	</Tab_PrizeTrack>
	<Act2TabHiddenMessage_PrizeTrack ignoreHUD="true">
		<Action type="notification" title="UI_TTT_PrizeTrack_title" button="UI_OK" text="UI_Superheroes2_PrizeTrack_Future_text" tooltip="UI_Superheroes2_PrizeTrack_Future_toolTip" icon="ICO_TimeTravellingToaster_PryamidTaskMasterWillie" darken="true" />
	</Act2TabHiddenMessage_PrizeTrack>
	<Act3TabHiddenMessage_PrizeTrack ignoreHUD="true">
		<Action type="notification" title="UI_TTT_PrizeTrack_title" button="UI_OK" text="UI_Superheroes2_PrizeTrack_Future_text" tooltip="UI_Superheroes2_PrizeTrack_Future_toolTip" icon="ICO_TimeTravellingToaster_PirateShipSexyPirate" darken="true" />
	</Act3TabHiddenMessage_PrizeTrack>
	<Act2TabHiddenMessage_Excavation ignoreHUD="true">
		<Action type="notification" title="UI_TTT_ExcavationMuseum_title" button="UI_OK" text="UI_Superheroes2_PrizeTrack_Future_text" tooltip="UI_Superheroes2_PrizeTrack_Future_toolTip" icon="ico_priz_timetravellingtoaster_abusimbel_lg" darken="true" />
	</Act2TabHiddenMessage_Excavation>
	<Act3TabHiddenMessage_Excavation ignoreHUD="true">
		<Action type="notification" title="UI_TTT_ExcavationMuseum_title" button="UI_OK" text="UI_Superheroes2_PrizeTrack_Future_text" tooltip="UI_Superheroes2_PrizeTrack_Future_toolTip" icon="ico_priz_timetravellingtoaster_bridgeanimatronic_lg" darken="true" />
	</Act3TabHiddenMessage_Excavation>
	<Tab_ExcavationMuseum>
		<Action type="updateVariable" variable="TTT_EventHubTabValue" value="1" />
		<Action type="if">
			<If expression="TTT_ExcavationGuideSeen">
				<Then>
					<Action type="gotoState" state="GameState_HubPrizeTrack" forceState="true">
						<Extras>
							<Attribute name="helpButtonScript" value="TimeTravellingToaster_Scripts_Misc:GuidePanel_ExcavationSite" />
							<Attribute name="specialEvent" value="TTT_ExcavationMuseum" />
							<Attribute name="exitButtonScript" value="MiscScripts:GoToInGame" />
						</Extras>
					</Action>
					<Action type="markBadgeViewed" badgeName="Toaster_ExcavationBadge" />
				</Then>
			</If>
			<Else>
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:GuidePanel_ExcavationSite" />
				</Then>
			</Else>
		</Action>
	</Tab_ExcavationMuseum>
	<PrehistoricFoliagePackRewarded>
		<Action type="focusOnMenuItem" itemName="PrehistoricFoliage" inventory="true" />
	</PrehistoricFoliagePackRewarded>
	<EgyptianPillarPackRewarded>
		<Action type="focusOnMenuItem" itemName="EgyptianPillar" inventory="true" />
	</EgyptianPillarPackRewarded>
	<ShallowGravePackRewarded>
		<Action type="focusOnMenuItem" itemName="ShallowGrave" inventory="true" />
	</ShallowGravePackRewarded>
	<Tab_TachyonEmitter>
		<Action type="setVariable" intVariable="TTT_EventHubTabValue" intValue="2" />
		<Action type="gotoState" state="GameState_EventLevelPrizeTrack">
			<Extras>
				<Attribute name="specialEvent" value="TTT_EventLevel" />
				<Attribute name="helpButtonScript" value="TimeTravellingToaster_Scripts_Misc:GuidePanel_TachyonEmitter" />
				<Attribute name="exitButtonScript" value="MiscScripts:GoToInGame" />
			</Extras>
		</Action>
	</Tab_TachyonEmitter>
	<EventLevelUp>
		<Action type="updateVariable" variable="TachyonEmitterLevel" value="TachyonEmitterLevel+1" />
		<Action type="if">
			<If>
				<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TachyonEmitter_CurrentLevel_IsCoolDown" />
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:EventLevelUpMessage_CoolDown" />
				</Then>
			</If>
			<ElseIf>
				<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TachyonEmitter_CurrentLevel_IsTapRadius" />
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:EventLevelUpMessage_TapRadius" />
				</Then>
			</ElseIf>
			<ElseIf>
				<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TachyonEmitter_CurrentLevel_IsSitePayout" />
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:EventLevelUpMessage_SitePayout" />
				</Then>
			</ElseIf>
		</Action>
	</EventLevelUp>
	<EventLevelUpMessage_CoolDown>
		<Action type="if">
			<If expression="TachyonEmitterLevel==24">
				<Then>
					<Action type="genericMessage">
						<Attribute name="config">
							<AttributeSet name="title">
								<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_title" localise="true" />
								<Attribute name="font" value="eFont_Special" />
								<Attribute name="color" value="FFFFFFFF" />
							</AttributeSet>
							<AttributeSet name="message">
								<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_finalCooldownText" localise="true" parameters="params" />
								<Attribute name="font" value="eFont_Normal" />
								<Attribute name="color" value="FFFFFFFF" />
							</AttributeSet>
							<AttributeSet name="left">
								<Attribute name="image" value="ICO_TimeTravellingToaster_TachyonEmitter_Reward1" />
							</AttributeSet>
							<AttributeSet name="button_OK">
								<Attribute name="button_text">
									<AttributeSet name="text">
										<Attribute name="text" value="UI_OK" localise="true" />
									</AttributeSet>
								</Attribute>
							</AttributeSet>
						</Attribute>
					</Action>
				</Then>
			</If>
			<Else>
				<Then>
					<Action type="genericMessage">
						<Attribute name="config">
							<AttributeSet name="title">
								<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_title" localise="true" />
								<Attribute name="font" value="eFont_Special" />
								<Attribute name="color" value="FFFFFFFF" />
							</AttributeSet>
							<AttributeSet name="message">
								<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_cooldownText" localise="true" parameters="params">
									<AttributeSet name="params">
										<Attribute name="0" formula="Selector::getValue('TTT_TachyonEmitterCooldown')/3600" />
									</AttributeSet>
								</Attribute>
								<Attribute name="font" value="eFont_Normal" />
								<Attribute name="color" value="FFFFFFFF" />
							</AttributeSet>
							<AttributeSet name="left">
								<Attribute name="image" value="ICO_TimeTravellingToaster_TachyonEmitter_Reward1" />
							</AttributeSet>
							<AttributeSet name="button_OK">
								<Attribute name="button_text">
									<AttributeSet name="text">
										<Attribute name="text" value="UI_OK" localise="true" />
									</AttributeSet>
								</Attribute>
							</AttributeSet>
						</Attribute>
					</Action>
				</Then>
			</Else>
		</Action>
	</EventLevelUpMessage_CoolDown>
	<EventLevelUpMessage_TapRadius>
		<Action type="genericMessage">
			<Attribute name="config">
				<AttributeSet name="title">
					<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_title" localise="true" />
					<Attribute name="font" value="eFont_Special" />
					<Attribute name="color" value="FFFFFFFF" />
				</AttributeSet>
				<AttributeSet name="message">
					<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_tapRadiusText" localise="true" parameters="params" />
					<Attribute name="font" value="eFont_Normal" />
					<Attribute name="color" value="FFFFFFFF" />
				</AttributeSet>
				<AttributeSet name="left">
					<Attribute name="image" value="ICO_TimeTravellingToaster_TachyonEmitter_Reward2" />
				</AttributeSet>
				<AttributeSet name="button_OK">
					<Attribute name="button_text">
						<AttributeSet name="text">
							<Attribute name="text" value="UI_OK" localise="true" />
						</AttributeSet>
					</Attribute>
				</AttributeSet>
			</Attribute>
		</Action>
	</EventLevelUpMessage_TapRadius>
	<EventLevelUpMessage_SitePayout>
		<Action type="genericMessage">
			<Attribute name="config">
				<AttributeSet name="title">
					<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_title" localise="true" />
					<Attribute name="font" value="eFont_Special" />
					<Attribute name="color" value="FFFFFFFF" />
				</AttributeSet>
				<AttributeSet name="message">
					<Attribute name="text" value="UI_TTT_PaniniPress_Upgraded_rewardText" localise="true" parameters="params">
						<AttributeSet name="params">
							<Attribute name="0" formula="(Selector::getValue('TTT_ExcavationSitePayoutMultiplier')-1)*100" />
						</AttributeSet>
					</Attribute>
					<Attribute name="font" value="eFont_Normal" />
					<Attribute name="color" value="FFFFFFFF" />
				</AttributeSet>
				<AttributeSet name="left">
					<Attribute name="image" value="ICO_TimeTravellingToaster_TachyonEmitter_Reward3" />
				</AttributeSet>
				<AttributeSet name="button_OK">
					<Attribute name="button_text">
						<AttributeSet name="text">
							<Attribute name="text" value="UI_OK" localise="true" />
						</AttributeSet>
					</Attribute>
				</AttributeSet>
			</Attribute>
		</Action>
	</EventLevelUpMessage_SitePayout>
	<GoTo_TachyonEmitter>
		<Action type="pantoobject" time="0" building="TachyonEmitter" />
	</GoTo_TachyonEmitter>
	<GoToShovelStation>
		<Action type="pantoobject" time="0" building="MomAndPopHardware" fakeTouch="true" fakeTouchAvoidsIndicators="true" />
	</GoToShovelStation>
	<GoTo_MomAndPopHardware>
		<Action type="returnToInGameState" waitForState="true" />
		<Action type="pantoobject" time="0" building="MomAndPopHardware" fakeTouch="true" fakeTouchAvoidsIndicators="true" />
	</GoTo_MomAndPopHardware>
	<GoToDigSite>
		<Action type="checkRequirements">
			<Requirement type="land" land="Springfield" />
			<False>
				<Action type="gotoland" land="Springfield" showPopup="true" />
			</False>
			<True>
				<Action type="checkRequirements">
					<Requirement type="building" building="DigSite" />
					<False>
						<Action type="focusOnMenuItem" itemName="DigSite" />
					</False>
					<True>
						<Action type="returnToInGameState" />
						<Action type="pantoobject" building="DigSite" fakeTouch="true" fakeTouchAvoidsIndicators="true" />
					</True>
				</Action>
			</True>
		</Action>
	</GoToDigSite>
	<Tab_Crafting>
		<Action type="updateVariable" variable="TTT_EventHubTabValue" value="3" />
		<Action type="gotoState" state="GameState_HubCraftingMenu" forceState="false">
			<Extras>
				<Attribute name="MenuConfig" value="TimeTravellingToaster_CraftingConfig:CraftingMenu" />
				<Attribute name="ExitButtonScript" value="MiscScripts:GoToInGame" />
				<Attribute name="onLoadScript" value="TimeTravellingToaster_Scripts_Misc:UpdateCrafting" />
				<Attribute name="specialEvent" value="TTT" />
			</Extras>
		</Action>
		<Action type="markBadgeViewed" badgeName="Toaster_CraftingBadge" />
	</Tab_Crafting>
	<Tab_Crafting_ScrollTo>
		<Action type="updateVariable" variable="TTT_EventHubTabValue" value="3" />
		<Action type="gotoState" state="GameState_HubCraftingMenu" forceState="false" formatMe="deep">
			<Extras>
				<Attribute name="MenuConfig" value="TimeTravellingToaster_CraftingConfig:CraftingMenu" />
				<Attribute name="ExitButtonScript" value="MiscScripts:GoToInGame" />
				<Attribute name="onLoadScript" value="TimeTravellingToaster_Scripts_Misc:UpdateCrafting" />
				<Attribute name="specialEvent" value="TTT" />
				<Attribute name="ItemToScrollTo" value="{ItemToScrollTo}" />
			</Extras>
		</Action>
		<Action type="markBadgeViewed" badgeName="Toaster_CraftingBadge" />
	</Tab_Crafting_ScrollTo>
	<GuidePanel_Event>
		<Action type="updateVariable" variable="TTT_EventGuideSeen" value="1" />
		<Action type="gotoState" state="State_HubGuidePanel" extras="TimeTravellingToaster_GuidePanelConfig:EventGuide_Config" />
	</GuidePanel_Event>
	<GuidePanel_Event_Center>
		<Action type="updateVariable" variable="TTT_EventGuideSeen" value="1" />
		<Action type="gotoState" state="State_HubGuidePanel" extras="TimeTravellingToaster_GuidePanelConfig:EventGuide_Config">
			<Extras>
				<Attribute name="ExitButtonScript" value="MiscScripts:GoToInGame" />
				<Attribute name="Center" value="true" />
			</Extras>
		</Action>
	</GuidePanel_Event_Center>
	<GuidePanel_ExcavationSite>
		<Action type="updateVariable" variable="TTT_EventHubTabValue" value="1" />
		<Action type="updateVariable" variable="TTT_ExcavationGuideSeen" value="1" />
		<Action type="gotoState" state="State_HubGuidePanel" extras="TimeTravellingToaster_GuidePanelConfig:ExcavationSite_Config" />
	</GuidePanel_ExcavationSite>
	<GuidePanel_ExcavationSite_ReturnToExcavationMinigame>
		<Action type="updateVariable" variable="TTT_ExcavationGuideSeen" value="1" />
		<Action type="gotoState" state="State_HubGuidePanel" extras="TimeTravellingToaster_GuidePanelConfig:ExcavationSite_Config">
			<Extras>
				<Attribute name="ExitButtonScript" value="TimeTravellingToaster_Scripts_ExcavationSite:ReturnFromStore" />
				<Attribute name="Center" value="true" />
			</Extras>
		</Action>
	</GuidePanel_ExcavationSite_ReturnToExcavationMinigame>
	<GuidePanel_TachyonEmitter>
		<Action type="setVariable" intVariable="TTT_EventHubTabValue" intValue="2" />
		<Action type="updateVariable" variable="TTT_PaniniPressGuideSeen" value="1" />
		<Action type="gotoState" state="State_HubGuidePanel" extras="TimeTravellingToaster_GuidePanelConfig:PaniniPress_Config" />
	</GuidePanel_TachyonEmitter>
	<GuidePanel_Crafting>
		<Action type="updateVariable" variable="TTT_EventHubTabValue" value="3" />
		<Action type="updateVariable" variable="TTT_CraftingGuideSeen" value="1" />
		<Action type="gotoState" state="State_HubGuidePanel" extras="TimeTravellingToaster_GuidePanelConfig:Crafting_Config" />
	</GuidePanel_Crafting>
	<EnterTimeTravellingToasterCategory>
		<Action type="focusOnMenuItem" menuCategory="TimeTravellingToasterCategory" />
	</EnterTimeTravellingToasterCategory>
	<EnterJuly4th2017Category>
		<Action type="focusOnMenuItem" menuCategory="July4th2017" />
	</EnterJuly4th2017Category>
	<July4th2017Store_Recommend>
		<Action type="recommendation" recType="Promoted" name="July4th2017_OnePanel" eventName="UI_July4th2017_Title" limitedTime="true" limitedTimeEndDate="July4th2017_End" />
	</July4th2017Store_Recommend>
	<PirateBundlePurchased>
		<Action type="message" text="UI_EoS2015_ItemInInventory" />
		<Action type="focusOnMenuItem" itemName="Shipwreck" inventory="true" />
	</PirateBundlePurchased>
	<RuinBundlePurchased>
		<Action type="message" text="UI_EoS2015_ItemInInventory" />
		<Action type="focusOnMenuItem" itemName="Catacombs" inventory="true" />
	</RuinBundlePurchased>
	<BooberellaBundlePurchased>
		<Action type="message" text="UI_EoS2015_ItemInInventory" />
		<Action type="focusOnMenuItem" itemName="CurvaceousCave" inventory="true" />
	</BooberellaBundlePurchased>
	<Recommend3Panel>
		<Action type="recommendation" recType="Event" name="TTT_3Panel" eventName="UI_TTT_EventName" />
	</Recommend3Panel>
	<TimeTravellingToaster_Recommend>
		<Action type="reparseBuildMenu" />
		<Action type="recommendation" recType="Event" name="TTT_3Panel" eventName="UI_TTT_EventName" />
	</TimeTravellingToaster_Recommend>
	<EnterTheVault>
		<Action type="focusOnMenuItem" menuCategory="TheVault" />
	</EnterTheVault>
	<VaultProg>
		<Action type="program">
			<Program><![CDATA[#program;
                    var duration = fromDays(7);
                    var interval = User::getVariable('Vault_Group_A_LastInterval');
                    var theStart = Date::toDouble('TTT_Start');
                    
                    var startDate = Date::toDouble('TTT_Start') + (duration * interval);
                    var endDate = Date::toDouble('TTT_Start') + (duration * (interval + 1));
                    
                    User::setVariable('TheVaultCycle_StartDate', startDate, true);
                    User::setVariable('TheVaultCycle_EndDate', endDate, true);
                    User::setVariable('TheVaultCycle_OldInterval', interval, true);
                    
                    var timerArray = Array::create('name'=>'VaultTimer','start'=>startDate,'end'=>endDate,'expireOnEnd'=>1);
                    Timer::add(timerArray);
                ]]></Program>
		</Action>
	</VaultProg>
	<StartTheVault ignoreHUD="true">
		<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:VaultProg" />
		<Action type="recommendation" recType="Timed" duration="30d" name="EnterTheVault" />
	</StartTheVault>
	<RefreshTheVault ignoreHUD="true">
		<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:VaultProg" />
		<Action type="if">
			<If expression="lessThanEQ(Vault_Group_A_LastInterval, 21)" asObjectExpression="true">
				<Then>
					<Action type="clearRecommendations" category="Timed" name="EnterTheVault" />
					<Action type="recommendation" recType="Timed" duration="30d" name="EnterTheVault" />
				</Then>
			</If>
			<Else>
				<Then>
					<Action type="clearRecommendations" category="Timed" name="EnterTheVault" />
					<Action type="recommendation" recType="Timed" duration="1d" name="EnterTheVault" />
				</Then>
			</Else>
		</Action>
	</RefreshTheVault>
	<GoTo_Tappable>
		<Action type="checkRequirements">
			<Requirement type="land" land="Springfield" />
			<False>
				<Action type="gotoland" land="Springfield" showPopup="true" />
			</False>
			<True>
				<Action type="if">
					<If expression="#program; return Array::size(Land::getAllInstancesFromGroup('TTT_Tappables')) &gt; 0;">
						<Then>
							<Action type="pantoobject" time="0" characterGroup="TTT_Tappables" flagsToAvoid="delete" />
						</Then>
					</If>
					<Else>
						<Then>
							<Action type="message" text="UI_TTT_PaniniPress_Fired_failed" />
						</Then>
					</Else>
				</Action>
			</True>
		</Action>
	</GoTo_Tappable>
	<TappableTapped parallel="true" cache="true">
		<Action type="playflyby" flybyName="BlastEffect" radius="Selector::getValue('TTT_TapRadius')" unitScale="0.13" playbackFPS="50" />
		<Action type="runScriptOnAll" characterGroup="TTT_Tappables" in_radius="Selector::getValue('TTT_TapRadius')" radius_delay="0.3" script="TimeTravellingToaster_Scripts_Misc:Tappable_Tapped_Single" />
		<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tappable_Tapped_Single" />
		<Action type="if">
			<If expression="lessThanEQ(System::evaluate('Character::TTT_Tappable_Act1::TotalCount')+System::evaluate('Character::TTT_Tappable_Act2::TotalCount')+System::evaluate('Character::TTT_Tappable_Act3::TotalCount'), 0)">
				<Then>
					<Action type="updateVariable" variable="TTT_ShowTappableNoMoreMessage" value="1" />
				</Then>
			</If>
		</Action>
	</TappableTapped>
	<Tappable_Tapped_Single parallel="true" cache="true">
		<Action type="if">
			<If expression="bitwiseAnd([Object::ObjectFlags], 1) == 0" asObjectExpression="true">
				<Then>
					<Action type="setObjectVariable" variable="TAPPED" value="1" allowOrphan="false" asExpression="true" />
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tappable_Reward" />
					<Action type="setObjectFlag" flags="delete" />
					<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:Tappable_AnimateAndDie" />
				</Then>
			</If>
		</Action>
	</Tappable_Tapped_Single>
	<Tappable_AnimateAndDie parallel="true" cache="true">
		<Action type="sound" sound="TTT_Tappable_Destroyed" />
		<Action type="anim-play" animation="Tap" />
		<Action type="anim-waitforend" />
		<Action type="deletecharacter" />
	</Tappable_AnimateAndDie>
	<Tappable_Reward parallel="true" cache="true">
		<Action type="updateVariable" variable="TTT_DCS_TimeInvaders" value="TTT_DCS_TimeInvaders+1" />
		<Action type="reward" save="true" TTT_ActivePrizeTrackCurrency="__TimeTravellingToaster_BalancingConfig:Tappables:PTCurrencyDrop__" Specimens="__TimeTravellingToaster_BalancingConfig:Tappables:CraftCurrencyDrop__" suppress_sound="true" />
	</Tappable_Reward>
	<Tappable_NoMore_Message>
		<Action type="message" title="UI_TTT_Tappables_NoMore_title" text="UI_TTT_Tappables_NoMore_text" />
		<Action type="updateVariable" variable="TTT_ShowTappableNoMoreMessage" value="0" />
	</Tappable_NoMore_Message>
	<TappableTapped_Social parallel="true" cache="true">
		<Action type="checkRequirements">
			<Requirements>
				<Requirement type="friendactioncount" amount="3" special="false" not="true" />
			</Requirements>
			<True>
				<Action type="friendActionPerformed" />
				<Action type="if">
					<If expression="TTT_LicenseOwned">
						<Then>
							<Action type="reward" save="true" TTT_ActivePrizeTrackCurrency="System::evaluate('Selector::TTTPrizeTrackCurrencyPerFriendAction')*2" suppress_sound="true" />
							<Action type="reward" save="true" Specimens="System::evaluate('Selector::TTTCraftingCurrencyPerFriendAction')*2" suppress_sound="true" />
						</Then>
					</If>
					<Else>
						<Then>
							<Action type="reward" save="true" TTT_ActivePrizeTrackCurrency="System::evaluate('Selector::TTTPrizeTrackCurrencyPerFriendAction')" suppress_sound="true" />
							<Action type="reward" save="true" Specimens="System::evaluate('Selector::TTTCraftingCurrencyPerFriendAction')" suppress_sound="true" />
						</Then>
					</Else>
				</Action>
				<Action type="updateVariable" variable="TTT_DCS_TimeInvaders" value="TTT_DCS_TimeInvaders+1" />
				<Action type="updateVariable" variable="TTT_TimeInvadersTapped_Social" value="TTT_TimeInvadersTapped_Social+1" />
				<Action type="reward" save="true" money="selector socialMoneyReward" xp="1" FriendPoint="selector friendPointsReward" donuts="1" chance="selector socialDonutChanceReward" chanceType="d" suppress_sound="true" />
				<Action type="anim-play" animation="Tap" />
				<Action type="anim-waitforend" />
				<Action type="deletecharacter" />
			</True>
		</Action>
	</TappableTapped_Social>
	<SpawnSocialTappables_Tier1>
		<Action type="if">
			<If>
				<Requirement type="fakefriend" />
				<Then>
					<Action type="if">
						<If>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act1" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act1" count="30" save="true" panCamera="false" />
							</Then>
						</If>
						<ElseIf>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act2" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act2" count="30" save="true" panCamera="false" />
							</Then>
						</ElseIf>
						<Else>
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act3" count="30" save="true" panCamera="false" />
							</Then>
						</Else>
					</Action>
				</Then>
			</If>
			<Else>
				<Then>
					<Action type="if">
						<If>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act1" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act1" count="10" save="true" panCamera="false" />
							</Then>
						</If>
						<ElseIf>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act2" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act2" count="10" save="true" panCamera="false" />
							</Then>
						</ElseIf>
						<Else>
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act3" count="10" save="true" panCamera="false" />
							</Then>
						</Else>
					</Action>
				</Then>
			</Else>
		</Action>
	</SpawnSocialTappables_Tier1>
	<SpawnSocialTappables_Tier2>
		<Action type="if">
			<If>
				<Requirement type="fakefriend" />
				<Then>
					<Action type="if">
						<If>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act1" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act1" count="30" save="true" panCamera="false" />
							</Then>
						</If>
						<ElseIf>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act2" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act2" count="30" save="true" panCamera="false" />
							</Then>
						</ElseIf>
						<Else>
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act3" count="30" save="true" panCamera="false" />
							</Then>
						</Else>
					</Action>
				</Then>
			</If>
			<Else>
				<Then>
					<Action type="if">
						<If>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act1" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act1" count="20" save="true" panCamera="false" />
							</Then>
						</If>
						<ElseIf>
							<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act2" />
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act2" count="20" save="true" panCamera="false" />
							</Then>
						</ElseIf>
						<Else>
							<Then>
								<Action type="createobject" name="TTT_Tappable_Act3" count="20" save="true" panCamera="false" />
							</Then>
						</Else>
					</Action>
				</Then>
			</Else>
		</Action>
	</SpawnSocialTappables_Tier2>
	<SpawnSocialTappables_Tier3>
		<Action type="if">
			<If>
				<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act1" />
				<Then>
					<Action type="createobject" name="TTT_Tappable_Act1" count="30" save="true" panCamera="false" />
				</Then>
			</If>
			<ElseIf>
				<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act2" />
				<Then>
					<Action type="createobject" name="TTT_Tappable_Act2" count="30" save="true" panCamera="false" />
				</Then>
			</ElseIf>
			<Else>
				<Then>
					<Action type="createobject" name="TTT_Tappable_Act3" count="30" save="true" panCamera="false" />
				</Then>
			</Else>
		</Action>
	</SpawnSocialTappables_Tier3>
	<TTT_FriendsHUDInfo parallel="true">
		<Action type="triggerevent" name="ScriptEvent" data="TTT_UpdateFriendActionHelpVariables" />
		<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:TTT_FriendsHUDInfoAux" />
	</TTT_FriendsHUDInfo>
	<TTT_FriendsHUDInfoAux>
		<Action type="checkRequirements">
			<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act1" />
			<True>
				<Action type="checkRequirements">
					<Requirement type="variable" variable="FriendActionsCount" count="91" not="true" />
					<True>
						<Action type="checkRequirements">
							<Requirement type="variable" variable="TTT_LicenseOwned" />
							<True>
								<Action type="notification" title="RES_Fossils_plural" button="UI_OK" text="GEN_ResourceListing_TTT_PT1_Upgrade" icon="ICO_CUR_TimeTravelingToaster_Fossils_LG">
									<Variable name="TTT_PT1_FOR_NEXT_FRIEND_ACTION" type="int" />
									<Variable name="TTT_ACTIONS_UNTIL_NEXT_MULTIPLIER" type="int" />
								</Action>
							</True>
							<False>
								<Action type="notification" title="RES_Fossils_plural" button="UI_OK" text="GEN_ResourceListing_TTT_PT1" icon="ICO_CUR_TimeTravelingToaster_Fossils_LG">
									<Variable name="TTT_PT1_FOR_NEXT_FRIEND_ACTION" type="int" />
									<Variable name="TTT_ACTIONS_UNTIL_NEXT_MULTIPLIER" type="int" />
								</Action>
							</False>
						</Action>
					</True>
					<False>
						<Action type="notification" title="RES_Fossils_plural" button="UI_OK" text="UI_SecretAgents_OutOfFriendActions" icon="ICO_CUR_TimeTravelingToaster_Fossils_LG"></Action>
					</False>
				</Action>
			</True>
		</Action>
		<Action type="checkRequirements">
			<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act2" />
			<True>
				<Action type="checkRequirements">
					<Requirement type="variable" variable="FriendActionsCount" count="91" not="true" />
					<True>
						<Action type="checkRequirements">
							<Requirement type="variable" variable="TTT_LicenseOwned" />
							<True>
								<Action type="notification" title="RES_Papyrus_plural" button="UI_OK" text="GEN_ResourceListing_TTT_PT2_Upgrade" icon="ICO_CUR_TimeTravelingToaster_Papyrus_LG">
									<Variable name="TTT_PT2_FOR_NEXT_FRIEND_ACTION" type="int" />
									<Variable name="TTT_ACTIONS_UNTIL_NEXT_MULTIPLIER" type="int" />
								</Action>
							</True>
							<False>
								<Action type="notification" title="RES_Papyrus_plural" button="UI_OK" text="GEN_ResourceListing_TTT_PT2" icon="ICO_CUR_TimeTravelingToaster_Papyrus_LG">
									<Variable name="TTT_PT2_FOR_NEXT_FRIEND_ACTION" type="int" />
									<Variable name="TTT_ACTIONS_UNTIL_NEXT_MULTIPLIER" type="int" />
								</Action>
							</False>
						</Action>
					</True>
					<False>
						<Action type="notification" title="RES_Papyrus_plural" button="UI_OK" text="UI_SecretAgents_OutOfFriendActions" icon="ICO_CUR_TimeTravelingToaster_Papyrus_LG"></Action>
					</False>
				</Action>
			</True>
		</Action>
		<Action type="checkRequirements">
			<Requirement type="reqList" location="TimeTravellingToaster_Requirements:TTT_Act3" />
			<True>
				<Action type="checkRequirements">
					<Requirement type="variable" variable="FriendActionsCount" count="91" not="true" />
					<True>
						<Action type="checkRequirements">
							<Requirement type="variable" variable="TTT_LicenseOwned" />
							<True>
								<Action type="notification" title="RES_EyePatches_plural" button="UI_OK" text="GEN_ResourceListing_TTT_PT3_Upgrade" icon="ICO_CUR_TimeTravelingToaster_EyePatches_LG">
									<Variable name="TTT_PT3_FOR_NEXT_FRIEND_ACTION" type="int" />
									<Variable name="TTT_ACTIONS_UNTIL_NEXT_MULTIPLIER" type="int" />
								</Action>
							</True>
							<False>
								<Action type="notification" title="RES_EyePatches_plural" button="UI_OK" text="GEN_ResourceListing_TTT_PT3" icon="ICO_CUR_TimeTravelingToaster_EyePatches_LG">
									<Variable name="TTT_PT3_FOR_NEXT_FRIEND_ACTION" type="int" />
									<Variable name="TTT_ACTIONS_UNTIL_NEXT_MULTIPLIER" type="int" />
								</Action>
							</False>
						</Action>
					</True>
					<False>
						<Action type="notification" title="RES_EyePatches_plural" button="UI_OK" text="UI_SecretAgents_OutOfFriendActions" icon="ICO_CUR_TimeTravelingToaster_EyePatches_LG"></Action>
					</False>
				</Action>
			</True>
		</Action>
	</TTT_FriendsHUDInfoAux>
	<TTT_SocialLicence_Bought>
		<Action type="updateVariable" variable="TTT_LicenseOwned" value="1" />
		<Action type="notificationLarge" title="CON_TTT_SocialLicence_name" text="UI_TTT_SocialLicence_PurchasedMessage" button="UI_OK" icon="ICO_STOR_TimeTravelingToaster_CertifiedTimeTravelerLicense_Popup" />
	</TTT_SocialLicence_Bought>
	<DestroyAllTappables parallel="true">
		<Action type="delay" time="0.2" />
		<Action type="program">
			<Program><![CDATA[#program;
                        var characterInstanceList = Land::getAllInstancesFromGroup('TTT_Tappables');

                        var numCharactersTapped = User::getVariable('TTT_BankedTappables_Act1');
                        numCharactersTapped += User::getVariable('TTT_BankedTappables_Act2');
                        numCharactersTapped += User::getVariable('TTT_BankedTappables_Act3');

                        User::setVariable('TTT_BankedTappables_Act1', 0, true);
                        User::setVariable('TTT_BankedTappables_Act2', 0, true);
                        User::setVariable('TTT_BankedTappables_Act3', 0, true);

                        foreach(characterInstanceList as instance)
                        {
                            if( !Object::getDelete(instance) &&
                                Object::getVariable(instance, 'TAPPED')!=1)
                            {
                                numCharactersTapped++;
                                
                                Object::setVariable(instance, 'TAPPED', '1', 0, false);
                                Object::setDelete(instance, true);
                                Script::runOnObjectInstance('TimeTravellingToaster_Scripts_Misc:Tappable_AnimateAndDie', instance);
                            }
                        }

                        var eventCurrencyPerTappable = toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:Tappables:PTCurrencyDrop__'));
                        var craftingCurrencyPerTappable = toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:Tappables:CraftCurrencyDrop__'));

                        Global::setVariable('TTT_TachyonEmitterRewards_ActivePrizeTrackCurrency', numCharactersTapped*eventCurrencyPerTappable);
                        Global::setVariable('TTT_TachyonEmitterRewards_CraftingCurrency', numCharactersTapped*craftingCurrencyPerTappable);
                        User::setVariable('TTT_DCS_TimeInvaders', User::getVariable('TTT_DCS_TimeInvaders') + numCharactersTapped, true);
                ]]></Program>
		</Action>
		<Action type="runActionSequenceOnAll" building="TachyonEmitter" script="TimeTravellingToaster_Scripts_Misc:DestroyAllTappables_RewardOnBuilding" />
	</DestroyAllTappables>
	<DestroyAllTappables_RewardOnBuilding>
		<Action type="playflyby" flybyName="BlastEffect" radius="15" unitScale="0.13" centerOnObject="true" playbackFPS="18" />
		<Action type="reward" save="true" TTT_ActivePrizeTrackCurrency="Global::getVariable('TTT_TachyonEmitterRewards_ActivePrizeTrackCurrency')" Specimens="Global::getVariable('TTT_TachyonEmitterRewards_CraftingCurrency')" suppress_sound="true" />
	</DestroyAllTappables_RewardOnBuilding>
	<RemoveAct1Tappables parallel="true">
		<Action type="program">
			<Program><![CDATA[#program;
                    
                    var tappableInstances = Land::getAllInstancesOfObject(Character::find('TTT_Tappable_Act1'));
                    
                    foreach(tappableInstances as instance)
                    {
                        Script::runOnObjectInstance('TimeTravellingToaster_Scripts_Misc:Tappable_AnimateAndDie', instance);
                        Character::createInstance('TTT_Tappable_Act2', false, false);
					}
					
					User::setVariable('TTT_BankedTappables_Act2', min(User::getVariable('TTT_BankedTappables_Act1') + User::getVariable('TTT_BankedTappables_Act2'), toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:Tappables:BankMax__'))), true);
					User::setVariable('TTT_BankedTappables_Act1', 0, true);
                ]]></Program>
		</Action>
	</RemoveAct1Tappables>
	<RemoveAct2Tappables parallel="true">
		<Action type="program">
			<Program><![CDATA[#program;
                    
                    var tappableInstances = Land::getAllInstancesOfObject(Character::find('TTT_Tappable_Act1'));
					var arraySize = Array::size(tappableInstances);
					
					foreach (Land::getAllInstancesOfObject(Character::find('TTT_Tappable_Act2')) as instance)
					{
						Array::pushBack(tappableInstances, instance);
					}
					
					if (arraySize > 0 && Array::size(tappableInstances)==arraySize)
					{
						User::setVariable('TTT_BankedTappables_Act3', min(User::getVariable('TTT_BankedTappables_Act1') + User::getVariable('TTT_BankedTappables_Act3'), toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:Tappables:BankMax__'))), true);
						User::setVariable('TTT_BankedTappables_Act1', 0, true);
					}
					else
					{
						User::setVariable('TTT_BankedTappables_Act3', min(User::getVariable('TTT_BankedTappables_Act2') + User::getVariable('TTT_BankedTappables_Act3'), toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:Tappables:BankMax__'))), true);
						User::setVariable('TTT_BankedTappables_Act2', 0, true);
					}
                    
                    foreach(tappableInstances as instance)
                    {
                        Script::runOnObjectInstance('TimeTravellingToaster_Scripts_Misc:Tappable_AnimateAndDie', instance);
                        Character::createInstance('TTT_Tappable_Act3', false, false);
                    }
                ]]></Program>
		</Action>
	</RemoveAct2Tappables>
	<TachyonEmitter_Start parallel="true">
		<Action type="if">
			<If expression="#program;                             if( User::getVariable('TTT_BankedTappables_Act1') &gt; 0 ||                                 User::getVariable('TTT_BankedTappables_Act2') &gt; 0 ||                                 User::getVariable('TTT_BankedTappables_Act3') &gt; 0)                             {                                 return true;                                 }                             else                             {                                 var characterInstanceList = Land::getAllInstancesFromGroup('TTT_Tappables');                                 if(Array::size(characterInstanceList) &gt; 0)                                 {                                     return true;                                 }                             }                             return false;">
				<Then>
					<Action type="actionSequence" script="MiscScripts:GoToInGameWithSound" />
					<Action type="setMiniGameState" building="TachyonEmitter" name="TachyonEmitter" state="Playing" />
					<Action type="setMiniGameState" building="TachyonEmitter" name="TachyonEmitter" state="Ready" />
					<Action type="updateVariable" variable="TTT_DCS_PaniniPress" value="1" />
					<Action type="anim-play" onBuilding="TachyonEmitter" animation="ActiveNoLoop" nowait="true" />
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:DestroyAllTappables" />
					<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:TachyonEmitter_AllTappablesCollected" />
				</Then>
			</If>
			<Else>
				<Then>
					<Action type="actionSequence" script="MiscScripts:GoToInGameWithSound" />
					<Action type="runScript" script="TimeTravellingToaster_Scripts_Misc:TachyonEmitter_NoTappables" />
				</Then>
			</Else>
		</Action>
	</TachyonEmitter_Start>
	<TachyonEmitter_AllTappablesCollected>
		<Action type="hudTip" text="UI_TTT_PaniniPress_Fired_hudTip" time="10s" requiresActiveHUD="false" />
	</TachyonEmitter_AllTappablesCollected>
	<TachyonEmitter_NoTappables>
		<Action type="message" text="UI_TTT_PaniniPress_Fired_failed" />
	</TachyonEmitter_NoTappables>
	<TachyonEmitter_Rush parallel="true">
		<Action type="sound" sound="UIButton" />
		<Action type="rushMinigame" minigame="TachyonEmitter" />
	</TachyonEmitter_Rush>
	<UpdateCrafting parallel="true">
		<Action type="program">
			<Program><![CDATA[#program;
                    while (User::getVariable('TTT_CraftingLevel') < User::getVariable('TTT_MaxCraftingLevel') && TTT_CraftingXP >= toDouble(System::getConfigValue('__TimeTravellingToaster_GameConfig:Crafting_Targets:CurrentLevel_Target__')))
                    {
                    User::setVariable('TTT_CraftingLevel', User::getVariable('TTT_CraftingLevel') + 1, true);
                    }
                    var previousTarget = toDouble(System::getConfigValue('__TimeTravellingToaster_GameConfig:Crafting_Targets:PreviousLevel_Target__'));
                    User::setVariable('TTT_MaxCraftingProgress', toDouble(System::getConfigValue('__TimeTravellingToaster_GameConfig:Crafting_Targets:CurrentLevel_Target__')) - previousTarget, true);
                    User::setVariable('TTT_CraftingProgress', System::evaluate('Spendable::TTT_CraftingXP') - previousTarget, true);
                ]]></Program>
		</Action>
	</UpdateCrafting>
	<Crafting_Level2>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_2" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level3__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_DinosaurSkeleton_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level2>
	<Crafting_Level3>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_3" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level4__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_TriceratopsStatue_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level3>
	<Crafting_Level4>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_4" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level5__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_TarField_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level4>
	<Crafting_Level5>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_5" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level6__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="CHA_HomerLizard_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level5>
	<Crafting_Level6>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_6" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level7__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_EgyptianColumn_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level6>
	<Crafting_Level7>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_7" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level8__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_EgyptianOuthouse_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level7>
	<Crafting_Level8>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_8" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level9__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_EgyptianTent_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level8>
	<Crafting_Level9>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_9" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level10__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_Camel_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level9>
	<Crafting_Level10>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_10" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level11__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_BartSphinx_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level10>
	<Crafting_Level11>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_11" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level12__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_SkeletonPile_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level11>
	<Crafting_Level12>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_12" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level13__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_PirateCannon_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level12>
	<Crafting_Level13>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_13" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level14__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_Rowboat_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level13>
	<Crafting_Level14>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_14" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="if">
			<If expression="lessThan(TTT_CraftingXP, toDouble(System::getConfigValue('__TimeTravellingToaster_BalancingConfig:CraftingLevels:Level15__')))">
				<Then>
					<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
						<FormatToken key="ItemToScrollTo" value="BLD_SirenMasthead_name" />
					</Action>
				</Then>
			</If>
		</Action>
	</Crafting_Level14>
	<Crafting_Level15>
		<Action type="notification" title="UI_TTT_Crafting_LevelUp_title_15" button="UI_OK" text="UI_TTT_Crafting_LevelUp_text" icon="ICO_CUR_TimeTravelingToaster_Specimen_XLG" />
		<Action type="actionSequence" script="TimeTravellingToaster_Scripts_Misc:Tab_Crafting_ScrollTo">
			<FormatToken key="ItemToScrollTo" value="BLD_MermaidPettingZoo_name" />
		</Action>
	</Crafting_Level15>
	<IncreaseCraftingLevel>
		<Action type="if">
			<If expression="lessThan(TTT_CraftingLevel, TTT_MaxCraftingLevel)">
				<Then>
					<Action type="reward" TTT_CraftingXP="toDouble(System::getConfigValue('__TimeTravellingToaster_GameConfig:Crafting_Targets:CurrentLevel_Target__')) - TTT_CraftingXP" />
				</Then>
			</If>
		</Action>
		<Action type="returnToInGameState" />
	</IncreaseCraftingLevel>
	<ShovelsFullPopup>
		<Action type="message" title="UI_TTT_ShovelStation_fullTitle" text="UI_TTT_ShovelStation_fullMessage" />
		<Action type="returnToInGameState" />
	</ShovelsFullPopup>
	<GetPharaohSkinner parallel="true">
		<Action type="if">
			<If>
				<Requirement type="land" land="Springfield" not="true" />
				<Then>
					<Action type="gotoland" land="Springfield" showPopup="true" />
				</Then>
			</If>
			<ElseIf>
				<Requirement type="item" item="PharaohSkinnerAndThrone" />
				<Then>
					<Action type="focusOnMenuItem" itemName="PharaohSkinnerAndThrone" inventory="true" />
				</Then>
			</ElseIf>
			<ElseIf>
				<Requirements>
					<Requirement type="characterunlocked" name="Skinner" unlockedskin="PharaohSkinner" not="true" />
				</Requirements>
				<Then>
					<Action type="focusOnMenuItem" itemName="PharaohSkinnerAndThrone" menuCategory="TimeTravellingToasterCategory" />
				</Then>
			</ElseIf>
		</Action>
	</GetPharaohSkinner>
	<GetCavegirlBooberella parallel="true">
		<Action type="if">
			<If>
				<Requirement type="land" land="Springfield" not="true" />
				<Then>
					<Action type="gotoland" land="Springfield" showPopup="true" />
				</Then>
			</If>
			<ElseIf>
				<Requirement type="item" item="CavegirlBooberellaCon" />
				<Then>
					<Action type="focusOnMenuItem" itemName="CavegirlBooberellaCon" inventory="true" />
				</Then>
			</ElseIf>
			<ElseIf>
				<Requirements>
					<Requirement type="characterunlocked" name="Booberella" />
				</Requirements>
				<Then>
					<Action type="focusOnMenuItem" itemName="CavegirlBooberella_Bundle2" menuCategory="TimeTravellingToasterCategory" />
				</Then>
			</ElseIf>
			<Else>
				<Then>
					<Action type="focusOnMenuItem" itemName="CavegirlBooberella_Bundle1" menuCategory="TimeTravellingToasterCategory" />
				</Then>
			</Else>
		</Action>
	</GetCavegirlBooberella>
	<HomerLizard_TachyonReward ignoreHUD="true">
		<Action type="if">
			<If expression="TTT_HomerLizard_Placed == 0">
				<Then>
					<Action type="reward" Tachyons="__TimeTravellingToaster_BalancingConfig:TachyonRewards:HomerLizard__" />
					<Action type="updateVariable" variable="TTT_HomerLizard_Placed" value="1" />
				</Then>
			</If>
		</Action>
	</HomerLizard_TachyonReward>
	<DarwinFish_TachyonReward ignoreHUD="true">
		<Action type="if">
			<If expression="TTT_DarwinFish_Placed == 0">
				<Then>
					<Action type="reward" Tachyons="__TimeTravellingToaster_BalancingConfig:TachyonRewards:DarwinFish__" />
					<Action type="updateVariable" variable="TTT_DarwinFish_Placed" value="1" />
				</Then>
			</If>
		</Action>
	</DarwinFish_TachyonReward>
	<WisecrackingParrot_TachyonReward ignoreHUD="true">
		<Action type="if">
			<If expression="TTT_WisecrackingParrot_Placed == 0">
				<Then>
					<Action type="reward" Tachyons="__TimeTravellingToaster_BalancingConfig:TachyonRewards:Parrot__" />
					<Action type="updateVariable" variable="TTT_WisecrackingParrot_Placed" value="1" />
				</Then>
			</If>
		</Action>
	</WisecrackingParrot_TachyonReward>
	<BabyTRex_TachyonReward ignoreHUD="true">
		<Action type="if">
			<If expression="TTT_BabyTRex_Placed == 0">
				<Then>
					<Action type="reward" Tachyons="__TimeTravellingToaster_BalancingConfig:TachyonRewards:BabyTRex__" />
					<Action type="updateVariable" variable="TTT_BabyTRex_Placed" value="1" />
				</Then>
			</If>
		</Action>
	</BabyTRex_TachyonReward>
	<Raptor_TachyonReward ignoreHUD="true">
		<Action type="if">
			<If expression="TTT_Raptor_Placed == 0">
				<Then>
					<Action type="reward" Tachyons="__TimeTravellingToaster_BalancingConfig:PremiumTachyons:Raptor__" />
					<Action type="updateVariable" variable="TTT_Raptor_Placed" value="1" />
				</Then>
			</If>
		</Action>
	</Raptor_TachyonReward>
	<GiantScreamapillar_TachyonReward ignoreHUD="true">
		<Action type="if">
			<If expression="TTT_GiantScreamapillar_Placed == 0">
				<Then>
					<Action type="reward" Tachyons="__TimeTravellingToaster_BalancingConfig:PremiumTachyons:GiantScreamapillar__" />
					<Action type="updateVariable" variable="TTT_GiantScreamapillar_Placed" value="1" />
				</Then>
			</If>
		</Action>
	</GiantScreamapillar_TachyonReward>
	<Blackbeard_TachyonReward ignoreHUD="true">
		<Action type="if">
			<If expression="TTT_Blackbeard_Placed == 0">
				<Then>
					<Action type="reward" Tachyons="__TimeTravellingToaster_BalancingConfig:PremiumTachyons:Blackbeard__" />
					<Action type="updateVariable" variable="TTT_Blackbeard_Placed" value="1" />
				</Then>
			</If>
		</Action>
	</Blackbeard_TachyonReward>
	<DCS_Reset_TimeInvaders parallel="true">
		<Action type="updateVariable" variable="TTT_DCS_TimeInvaders" value="0" />
	</DCS_Reset_TimeInvaders>
	<DCS_Reset_Excavations parallel="true">
		<Action type="updateVariable" variable="TTT_DCS_Excavations" value="0" />
	</DCS_Reset_Excavations>
	<DCS_Reset_LostTreasure>
		<Action type="updateVariable" variable="TTT_DCS_LostTreasure" value="0" />
	</DCS_Reset_LostTreasure>
	<DCS_Reset_PaniniPress>
		<Action type="updateVariable" variable="TTT_DCS_PaniniPress" value="0" />
	</DCS_Reset_PaniniPress>
	<TTT_Prestige_Act1>
		<Action type="reward">
			<Item type="consumable" name="TTT_Prestige_Act1" useImmediately="true" />
		</Action>
	</TTT_Prestige_Act1>
	<TTT_Prestige_Act2>
		<Action type="reward">
			<Item type="consumable" name="TTT_Prestige_Act2" useImmediately="true" />
		</Action>
	</TTT_Prestige_Act2>
	<TTT_Prestige_Act3>
		<Action type="reward">
			<Item type="consumable" name="TTT_Prestige_Act3" useImmediately="true" />
		</Action>
	</TTT_Prestige_Act3>
	<TTT_SpecimenFix parallel="true">
		<Action type="if">
			<If>
				<Requirement type="special currency" currency="Fossils" amount="__TimeTravellingToaster_BalancingConfig:PrizeTrack:Act1_Prize5_Target__" />
				<Then>
					<Action type="reward" Specimens="__TimeTravellingToaster_BalancingConfig:PrizeTrackConsumableRewards:Specimens__" />
				</Then>
			</If>
		</Action>
	</TTT_SpecimenFix>
</ScriptPackage>