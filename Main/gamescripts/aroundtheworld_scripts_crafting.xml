<ScriptPackage>
	<UpdateCrafting parallel="true">
		<Action type="program">
			<Program><![CDATA[#program;
					while (User::getVariable('AtW_CraftingLevel') < User::getVariable('AtW_MaxCraftLevel') && AroundTheWorld_CraftingXP >= toDouble(System::getConfigValue('__AroundTheWorld_GameConfig:Crafting_Targets:CurrentLevel_Target__')))
					{
						User::setVariable('AtW_CraftingLevel', User::getVariable('AtW_CraftingLevel') + 1, true);
					}
					var previousTarget = toDouble(System::getConfigValue('__AroundTheWorld_GameConfig:Crafting_Targets:PreviousLevel_Target__'));
					User::setVariable('AtW_MaxCraftProgress', toDouble(System::getConfigValue('__AroundTheWorld_GameConfig:Crafting_Targets:CurrentLevel_Target__')) - previousTarget, true);
					User::setVariable('AtW_CraftProgress', System::evaluate('Spendable::AroundTheWorld_CraftingXP') - previousTarget, true);
				]]></Program>
		</Action>
	</UpdateCrafting>
	<IncreaseStoreLevel>
		<Action type="if">
			<If expression="AtW_CraftingLevel &lt; AtW_MaxCraftLevel">
				<Then>
					<Action type="reward" AroundTheWorld_CraftingXP="toDouble(System::getConfigValue('__AroundTheWorld_GameConfig:Crafting_Targets:CurrentLevel_Target__')) - AroundTheWorld_CraftingXP" />
				</Then>
			</If>
		</Action>
		<Action type="returnToInGameState" />
	</IncreaseStoreLevel>
	<Crafting_Level02>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp02" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level03_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level02>
	<Crafting_Level03>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp03" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level04_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level03>
	<Crafting_Level04>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp04" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level05_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level04>
	<Crafting_Level05>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp05" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level06_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level05>
	<Crafting_Level06>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp06" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level07_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level06>
	<Crafting_Level07>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp07" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level08_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level07>
	<Crafting_Level08>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp08" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level09_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level08>
	<Crafting_Level09>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp09" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level10_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level09>
	<Crafting_Level10>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp10" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level11_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level10>
	<Crafting_Level11>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp11" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level12_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level11>
	<Crafting_Level12>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp12" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level13_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level12>
	<Crafting_Level13>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp13" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level14_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level13>
	<Crafting_Level14>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp14" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level15_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level14>
	<Crafting_Level15>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp15" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level16_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level15>
	<Crafting_Level16>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp16" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level17_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level16>
	<Crafting_Level17>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp17" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level18_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level17>
	<Crafting_Level18>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp18" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level19_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level18>
	<Crafting_Level19>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp19" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level20_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level19>
	<Crafting_Level20>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp20" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level21_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level20>
	<Crafting_Level21>
		<Action type="notification" title="UI_AtW_Crafting_LevelUp21" button="UI_OK" text="UI_AtW_Crafting_LevelUp_Text" icon="ICO_MHUB_AroundTheWorld_Crafting" />
		<Action type="if">
			<If expression="lessThan(AroundTheWorld_CraftingXP, toDouble(System::getConfigValue('__AroundTheWorld_BalancingConfig:CraftLevels:Level22_Target__')))">
				<Then>
					<Action type="runScript" script="AroundTheWorld_Scripts_Misc_Event:TabPressed_Crafting" />
				</Then>
			</If>
		</Action>
	</Crafting_Level21>
</ScriptPackage>