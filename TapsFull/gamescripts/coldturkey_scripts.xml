<ScriptPackage>
	<ShowEventIntro>
		<Action type="miniEventPanel">
			<Attribute name="config">
				<AttributeSet name="source">
					<Attribute name="file" value="ColdTurkeyMiniEventPopUp" />
				</AttributeSet>
				<AttributeSet name="playButtonText">
					<Requirement type="variable" variable="ColdTurkey_IntroSeen" not="true" />
					<Attribute name="text" value="UI_MiniEvents_PlayButton" localise="true" />
				</AttributeSet>
				<AttributeSet name="playButtonTextHL">
					<Requirement type="variable" variable="ColdTurkey_IntroSeen" not="true" />
					<Attribute name="text" value="UI_MiniEvents_PlayButton" localise="true" />
				</AttributeSet>
				<AttributeSet name="playButtonText">
					<Requirement type="variable" variable="ColdTurkey_IntroSeen" />
					<Attribute name="text" value="UI_OK" localise="true" />
				</AttributeSet>
				<AttributeSet name="playButtonTextHL">
					<Requirement type="variable" variable="ColdTurkey_IntroSeen" />
					<Attribute name="text" value="UI_OK" localise="true" />
				</AttributeSet>
				<AttributeSet name="titleText">
					<Attribute name="text" value="UI_ColdTurkey_Title" localise="true" />
					<Attribute name="color" value="ffcb1bff" />
				</AttributeSet>
				<AttributeSet name="timeLeft">
					<Attribute name="text" value="UI_ColdTurkey_IntroPanelFooter" localise="true" />
					<Attribute name="color" value="FFFFFFFF" />
				</AttributeSet>
				<AttributeSet name="textColumn1">
					<Attribute name="text" value="UI_ColdTurkey_IntroPanelText_1" localise="true" />
					<Attribute name="color" value="000000FF" />
				</AttributeSet>
				<AttributeSet name="textColumn2">
					<Attribute name="text" value="UI_ColdTurkey_IntroPanelText_2" localise="true" />
					<Attribute name="color" value="000000FF" />
				</AttributeSet>
				<AttributeSet name="panel">
					<Attribute name="image" value="BSE_ColdTurkey_MiniEventPanel_Intro" />
				</AttributeSet>
				<AttributeSet name="playButton">
					<Attribute name="color" value="0091F1FF" />
				</AttributeSet>
			</Attribute>
		</Action>
		<Action type="setVariable" boolVariable="ColdTurkey_IntroSeen" boolValue="true" />
		<Action type="updateVariable" variable="ColdTurkey_Store" value="true" />
		<Action type="recommendation" recType="Event" name="ColdTurkey_ColdTurkey_OnePanel" eventName="UI_ColdTurkey_Title" limitedTime="true" limitedTimeEndDate="ColdTurkey_End" />
		<Action type="reparseBuildMenu" />
	</ShowEventIntro>
	<ShowEventOutro>
		<Action type="miniEventPanel">
			<Attribute name="config">
				<AttributeSet name="source">
					<Attribute name="file" value="ColdTurkeyMiniEventPopUp" />
				</AttributeSet>
				<AttributeSet name="playButtonText">
					<Attribute name="text" value="UI_OK" localise="true" />
				</AttributeSet>
				<AttributeSet name="playButtonTextHL">
					<Attribute name="text" value="UI_OK" localise="true" />
				</AttributeSet>
				<AttributeSet name="titleText">
					<Attribute name="text" value="UI_ColdTurkey_Title" localise="true" />
					<Attribute name="color" value="ffcb1bff" />
				</AttributeSet>
				<AttributeSet name="textColumn4">
					<Attribute name="text" value="UI_ColdTurkey_OutroPanelText_1" localise="true" />
					<Attribute name="color" value="000000FF" />
				</AttributeSet>
				<AttributeSet name="textColumn5">
					<Attribute name="text" value="UI_ColdTurkey_OutroPanelText_2" localise="true" />
					<Attribute name="color" value="000000FF" />
				</AttributeSet>
				<AttributeSet name="panel">
					<Attribute name="image" value="BSE_ColdTurkey_MiniEventPanel_Outro" />
				</AttributeSet>
				<AttributeSet name="playButton">
					<Attribute name="color" value="0091F1FF" />
				</AttributeSet>
			</Attribute>
		</Action>
		<Action type="notificationLarge" title="CON_ShatteredDreamsMysteryBox_name" button="UI_OK" text="UI_ShatteredDreams_notif" icon="ICO_STOR_Single_ShatteredDreams_MysteryBox" />
		<Action type="reward" save="true" ShatteredToken="1" />
		<Action type="recommendation" recType="Promoted" name="ShatteredDreamsMysteryBox_Sports" limitedTime="true" limitedTimeEndDate="ColdTurkey_ShatteredDreamsEnd" />
		<Action type="reparseBuildMenu" />
		<Action type="consumable" consumable="ShatteredDreamsMysteryBox_Sports" fromInventory="false" />
	</ShowEventOutro>
	<ExpiryWarning_72hr>
		<Action type="message" text="UI_ColdTurkey_72HourExpiry_text" />
		<Action type="setVariable" boolVariable="ColdTurkey_PreExpiryDisplayed72" boolValue="true" />
		<Action type="runScript" script="ColdTurkey_Scripts:OpenMasterQuest" waitUntilComplete="true" />
	</ExpiryWarning_72hr>
	<ExpiryWarning_24hr>
		<Action type="message" text="{FormattedExpiration24}" formatMe="root">
			<FormattingConfig path="ColdTurkey_GameConfig:ExpirationFormattedText" />
		</Action>
		<Action type="setVariable" boolVariable="ColdTurkey_PreExpiryDisplayed24" boolValue="true" />
		<Action type="runScript" script="ColdTurkey_Scripts:OpenMasterQuest" waitUntilComplete="true" />
	</ExpiryWarning_24hr>
	<DisplayExpiry>
		<Action type="message" text="UI_ColdTurkey_Expired_text" />
		<Action type="clearRecommendations" category="Event" name="ColdTurkey_OnePanel" />
		<Action type="runScript" script="ColdTurkey_Scripts:OpenMasterQuest" waitUntilComplete="true" />
	</DisplayExpiry>
	<EventCompleted>
		<Action type="setVariable" boolVariable="ColdTurkey_Complete" boolValue="true" />
	</EventCompleted>
	<OpenMasterQuest>
		<Action type="checkRequirements">
			<Requirement type="gamestate" state="GameState_QuestProgress" />
			<True>
				<Action type="changeQuestForProgressState" name="ColdTurkey_MasterQuest" />
			</True>
			<False>
				<Action type="gotoState" state="GameState_QuestProgress" forceState="true">
					<Extras>
						<Attribute name="questParentDelegate" value="ColdTurkey_MasterQuest" />
					</Extras>
				</Action>
			</False>
		</Action>
	</OpenMasterQuest>
	<ShowJobList ignoreHUD="true">
		<Action type="checkRequirements">
			<Requirement type="land" land="Springfield" />
			<True>
				<Action type="if">
					<If>
						<Requirement type="active quest" quest="TalkingTurkey_1" />
						<Then>
							<Action type="gotoState" state="GameState_SpecialEventJobList">
								<Extras>
									<Attribute name="SpecialEvent" value="ColdTurkey_Event" />
									<Attribute name="JobList" value="ColdTurkey_JL_1" />
								</Extras>
							</Action>
						</Then>
					</If>
					<ElseIf>
						<Requirement type="active quest" quest="TalkingTurkey_2" />
						<Then>
							<Action type="gotoState" state="GameState_SpecialEventJobList">
								<Extras>
									<Attribute name="SpecialEvent" value="ColdTurkey_Event" />
									<Attribute name="JobList" value="ColdTurkey_JL_2" />
								</Extras>
							</Action>
						</Then>
					</ElseIf>
					<ElseIf>
						<Requirement type="active quest" quest="TalkingTurkey_3" />
						<Then>
							<Action type="gotoState" state="GameState_SpecialEventJobList">
								<Extras>
									<Attribute name="SpecialEvent" value="ColdTurkey_Event" />
									<Attribute name="JobList" value="ColdTurkey_JL_3" />
								</Extras>
							</Action>
						</Then>
					</ElseIf>
					<ElseIf>
						<Requirement type="active quest" quest="TalkingTurkey_4" />
						<Then>
							<Action type="gotoState" state="GameState_SpecialEventJobList">
								<Extras>
									<Attribute name="SpecialEvent" value="ColdTurkey_Event" />
									<Attribute name="JobList" value="ColdTurkey_JL_4" />
								</Extras>
							</Action>
						</Then>
					</ElseIf>
					<ElseIf>
						<Requirement type="active quest" quest="TalkingTurkey_5" />
						<Then>
							<Action type="gotoState" state="GameState_SpecialEventJobList">
								<Extras>
									<Attribute name="SpecialEvent" value="ColdTurkey_Event" />
									<Attribute name="JobList" value="ColdTurkey_JL_5" />
								</Extras>
							</Action>
						</Then>
					</ElseIf>
					<ElseIf>
						<Requirement type="active quest" quest="ThemsTheBreaks" />
						<Then>
							<Action type="gotoState" state="GameState_SpecialEventJobList">
								<Extras>
									<Attribute name="SpecialEvent" value="ColdTurkey_Event" />
									<Attribute name="JobList" value="ColdTurkey_JL_6" />
								</Extras>
							</Action>
						</Then>
					</ElseIf>
				</Action>
			</True>
			<False>
				<Action type="pantoobject" building="KrustylandShuttleToSpringfield" fakeTouch="true" />
			</False>
		</Action>
	</ShowJobList>
	<CheckIfEnd ignoreHUD="true">
		<Action type="checkRequirements">
			<Requirement type="quest" quest="ColdTurkey_EventExpired" />
			<True>
				<Action type="setVariable" boolVariable="ColdTurkey_Expired" boolValue="true" />
			</True>
		</Action>
	</CheckIfEnd>
	<RecommendStoreCategory_ColdTurkey ignoreHUD="true">
		<Action type="reparseBuildMenu" />
		<Action type="clearRecommendations" category="Event" name="ColdTurkey_BlackFriday2023_OnePanel" />
		<Action type="recommendation" recType="Event" name="ColdTurkey_BlackFriday2023_OnePanel" eventName="UI_BlackFriday2023_Title" limitedTime="true" limitedTimeEndDate="ColdTurkey_End" />
		<Action type="clearRecommendations" category="Event" name="ColdTurkey_ColdTurkey_OnePanel" />
		<Action type="recommendation" recType="Event" name="ColdTurkey_ColdTurkey_OnePanel" eventName="UI_ColdTurkey_Title" limitedTime="true" limitedTimeEndDate="ColdTurkey_End" />
		<Action type="focusOnMenuItem" menuCategory="FrontPage" />
		<Action type="reparseBuildMenu" />
	</RecommendStoreCategory_ColdTurkey>
	<EnterStoreCategory_ColdTurkey ignoreHUD="true">
		<Action type="focusOnMenuItem" menuCategory="ColdTurkey_Category" />
	</EnterStoreCategory_ColdTurkey>
	<EnterStoreCategory_BlackFriday2023 ignoreHUD="true">
		<Action type="focusOnMenuItem" menuCategory="BlackFriday2023_Category" />
	</EnterStoreCategory_BlackFriday2023>
	<OpenMasterQuest_BlackFriday2023>
		<Action type="checkRequirements">
			<Requirement type="land" land="Springfield" />
			<True>
				<Action type="gotoState" state="GameState_QuestProgress">
					<Extras>
						<Attribute name="questParentDelegate" value="BlackFriday2023_MasterQuest" />
						<Attribute name="specialEvent" value="ColdTurkey" />
						<Attribute name="showEventProgressMenu" value="true" />
					</Extras>
				</Action>
			</True>
			<False>
				<Action type="pantoobject" building="KrustylandShuttleToSpringfield" fakeTouch="true" />
			</False>
		</Action>
	</OpenMasterQuest_BlackFriday2023>
	<CloseMTXStoreBlackFriday>
		<Action type="returnToInGameState" />
	</CloseMTXStoreBlackFriday>
	<ShowBlackFriday2023GuidePanel>
		<Action type="gotoState" state="State_HubEventGuidePanel" extras="ColdTurkey_GameConfig:BlackFriday2023Guide_Config" />
	</ShowBlackFriday2023GuidePanel>
	<OpenDonutStore>
		<Action type="returnToInGameState" />
		<Action type="focusOnMenuItem" storeCurrencyType="donuts" storeCurrencyAmount="12" />
	</OpenDonutStore>
	<BFFiveGoldenTokens2023>
		<Action type="reward" save="true" GoldBoxTokens="5" />
	</BFFiveGoldenTokens2023>
	<BFSevenGoldenTokens2023>
		<Action type="reward" save="true" GoldBoxTokens="7" />
	</BFSevenGoldenTokens2023>
	<BFTenGoldenTokens2023>
		<Action type="reward" save="true" GoldBoxTokens="10" />
	</BFTenGoldenTokens2023>
	<BFFifteenGoldenTokens2023>
		<Action type="reward" save="true" GoldBoxTokens="15" />
	</BFFifteenGoldenTokens2023>
	<BFRepeatGTPurchase2023>
		<Action type="updateVariable" variable="ColdTurkey_300Donuts12Tokens_Purchased" value="ColdTurkey_300Donuts12Tokens_Purchased + 1" />
	</BFRepeatGTPurchase2023>
	<GoToGoldMysteryBox2023>
		<Action type="focusOnMenuItem" menuCategory="BlackFriday2023_Category" itemName="ColdTurkey_GoldMysteryBox2023" />
	</GoToGoldMysteryBox2023>
	<GoToColdTurkeyTokenExchange>
		<Action type="focusOnMenuItem" itemName="GoldenTokenForDozenDonuts" menuCategory="ColdTurkey_Category" />
	</GoToColdTurkeyTokenExchange>
</ScriptPackage>